(()=>{"use strict";const e=e=>({name:e,todos:[]}),t=(e,t,o,d)=>({title:e,description:t,dueDate:o,priority:d}),o=e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach(((e,o)=>{const d=document.createElement("li");d.textContent=e.name,d.dataset.projectIndex=o,t.appendChild(d)}))},d=(e,t)=>{const o=document.querySelector(".todo-list");o.innerHTML="";const n=document.createElement("div");n.classList.add("project-title"),n.textContent=t.name,o.appendChild(n),e.forEach((n=>{const c=document.createElement("li"),l=document.createElement("div");l.textContent=`Title: ${n.title}, Description: ${n.description}, Due Date: ${n.dueDate}, Priority: ${n.priority}`,c.appendChild(l);const s=document.createElement("button");s.textContent="Delete",s.classList.add("delete-button"),s.addEventListener("click",(()=>r(n))),c.appendChild(s);const i=document.createElement("button");i.textContent="Edit",i.classList.add("edit-button"),i.addEventListener("click",(()=>a(n))),c.appendChild(i),o.appendChild(c);const r=o=>{console.log(`Deleting todo: ${o.title}`);const n=e.filter((e=>e!==o));d(n,t)},a=e=>{console.log(`Editing todo: ${e.title}`)}}))},n=e("Default Project"),c=[n],l=t("Finish Project","Finish the todo list project","2023-07-31","High"),s=t("Study JavaScript","Study for at least 1 hour","2023-07-25","Medium");n.todos.push(l,s);const i=document.querySelector("#add-project-btn"),r=document.querySelector(".modal"),a=document.querySelector(".modal .close"),u=document.querySelector(".modal form"),m=document.querySelector("#add-todo-btn"),p=document.querySelector(".todos .modal"),y=document.querySelector(".todos .modal .close"),v=document.querySelector(".todos .modal form");let E=n;document.querySelector(".project-list").addEventListener("click",(e=>{if("LI"===e.target.tagName){const t=e.target.dataset.projectIndex;E=c[t],d(E.todos,E)}})),i.addEventListener("click",(()=>{console.log("Add Project button clicked"),r.style.display="block"})),a.addEventListener("click",(()=>{console.log("Close button clicked"),r.style.display="none"})),window.addEventListener("click",(e=>{e.target===r&&(console.log("Clicked outside modal content"),r.style.display="none")})),u.addEventListener("submit",(t=>{t.preventDefault(),console.log("Project form submitted");const d=document.querySelector("#project-title").value,n=e(d);c.push(n),console.log("Updated projects array:",c),o(c),r.style.display="none"})),m.addEventListener("click",(()=>{console.log("Add Todo button clicked"),p.style.display="block"})),y.addEventListener("click",(()=>{console.log("Todo modal close button clicked"),p.style.display="none"})),window.addEventListener("click",(e=>{e.target===p&&(console.log("Clicked outside todo modal content"),p.style.display="none")})),v.addEventListener("submit",(e=>{e.preventDefault(),console.log("Todo form submitted");const o=document.querySelector("#todo-title").value,n=document.querySelector("#todo-description").value,c=document.querySelector("#todo-dueDate").value,l=document.querySelector("#todo-priority").value,s=t(o,n,c,l);E.todos.push(s),console.log("Updated todos array:",E.todos),d(E.todos,E),p.style.display="none"})),o(c),d(n.todos,n)})();