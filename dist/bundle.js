(()=>{"use strict";const e=e=>({name:e,todos:[]}),t=(e,t,o,d)=>({title:e,description:t,dueDate:o,priority:d}),o=e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach(((e,o)=>{const d=document.createElement("li");d.textContent=e.name,d.dataset.projectIndex=o,t.appendChild(d)}))},d=(e,t)=>{const o=document.querySelector(".todo-list");o.innerHTML="";const d=document.createElement("div");d.classList.add("project-title"),d.textContent=t.name,o.appendChild(d),e.forEach((e=>{const t=document.createElement("li"),d=document.createElement("div");d.textContent=`Title: ${e.title}, Description: ${e.description}, Due Date: ${e.dueDate}, Priority: ${e.priority}`,t.appendChild(d),o.appendChild(t)}))},c=e("Default Project"),n=[c],l=t("Finish Project","Finish the todo list project","2023-07-31","High"),r=t("Study JavaScript","Study for at least 1 hour","2023-07-25","Medium");c.todos.push(l,r);const s=document.querySelector("#add-project-btn"),i=document.querySelector(".modal"),a=document.querySelector(".modal .close"),u=document.querySelector(".modal form"),m=document.querySelector("#add-todo-btn"),p=document.querySelector(".todos .modal"),y=document.querySelector(".todos .modal .close"),v=document.querySelector(".todos .modal form");let S=c;document.querySelector(".project-list").addEventListener("click",(e=>{if("LI"===e.target.tagName){const t=e.target.dataset.projectIndex;S=n[t],d(S.todos,S)}})),s.addEventListener("click",(()=>{console.log("Add Project button clicked"),i.style.display="block"})),a.addEventListener("click",(()=>{console.log("Close button clicked"),i.style.display="none"})),window.addEventListener("click",(e=>{e.target===i&&(console.log("Clicked outside modal content"),i.style.display="none")})),u.addEventListener("submit",(t=>{t.preventDefault(),console.log("Project form submitted");const d=document.querySelector("#project-title").value,c=e(d);n.push(c),console.log("Updated projects array:",n),o(n),i.style.display="none"})),m.addEventListener("click",(()=>{console.log("Add Todo button clicked"),p.style.display="block"})),y.addEventListener("click",(()=>{console.log("Todo modal close button clicked"),p.style.display="none"})),window.addEventListener("click",(e=>{e.target===p&&(console.log("Clicked outside todo modal content"),p.style.display="none")})),v.addEventListener("submit",(e=>{e.preventDefault(),console.log("Todo form submitted");const o=document.querySelector("#todo-title").value,c=document.querySelector("#todo-description").value,n=document.querySelector("#todo-dueDate").value,l=document.querySelector("#todo-priority").value,r=t(o,c,n,l);S.todos.push(r),console.log("Updated todos array:",S.todos),d(S.todos,S),p.style.display="none"})),o(n),d(c.todos,c)})();