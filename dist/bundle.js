(()=>{"use strict";const e=e=>({name:e,todos:[]}),t=(e,t,o,d)=>({title:e,description:t,dueDate:o,priority:d}),o=e=>{const t=document.querySelector(".project-list");t.innerHTML="",e.forEach(((e,o)=>{const d=document.createElement("li"),n=document.createElement("i");n.classList.add("fa-solid","fa-list-ul","fa-1x","list-icon"),d.appendChild(n);const c=document.createElement("span");c.textContent=e.name,d.appendChild(c),d.dataset.projectIndex=o,t.appendChild(d)}))},d=(e,t)=>{const o=document.querySelector(".todo-list");o.innerHTML="";const n=document.createElement("div");n.classList.add("project-title"),n.textContent=t.name,o.appendChild(n),e.forEach((n=>{const c=document.createElement("li");c.classList.add("todo-item");const l=document.createElement("div");l.classList.add("todo-title"),l.textContent=n.title,c.appendChild(l);const s=document.createElement("div");s.classList.add("todo-info");const a=document.createElement("p");a.textContent=`Description: ${n.description}`,s.appendChild(a);const i=document.createElement("p");i.textContent=`Due Date: ${n.dueDate}`,s.appendChild(i);const r=document.createElement("p");r.textContent=`Priority: ${n.priority}`,s.appendChild(r),c.appendChild(s);const u=document.createElement("i");u.classList.add("fas","fa-trash-alt","fa-1x"),u.addEventListener("click",(()=>m(n))),c.appendChild(u);const p=document.createElement("i");p.classList.add("fa-solid","fa-pen-to-square","fa-1x"),p.addEventListener("click",(()=>y(n))),c.appendChild(p),o.appendChild(c);const m=o=>{console.log(`Deleting todo: ${o.title}`);const n=e.filter((e=>e!==o));d(n,t)},y=e=>{console.log(`Editing todo: ${e.title}`)}}))},n=e("Default Project"),c=[n];document.querySelector(".project-list").addEventListener("click",(e=>{if("LI"===e.target.tagName){const t=e.target.dataset.projectIndex;S=c[t],d(S.todos,S)}}));const l=t("Finish Project","Finish the todo list project","2023-07-31","High"),s=t("Study JavaScript","Study for at least 1 hour","2023-07-25","Medium");n.todos.push(l,s);const a=document.querySelector("#add-project-btn"),i=document.querySelector("#project-form"),r=document.querySelector("#project-title"),u=document.querySelector("#project-cancel"),p=document.querySelector("#add-todo-btn"),m=document.querySelector(".todo-modal"),y=document.querySelector(".todo-modal .close"),v=document.querySelector("#todo-form"),h=document.querySelector("#todo-title"),f=document.querySelector("#todo-description"),g=document.querySelector("#todo-dueDate"),E=document.querySelector("#todo-priority"),L=document.querySelector(".overlay");let S=n;const C=e=>{document.querySelector(e).classList.toggle("hidden")};a.addEventListener("click",(()=>{console.log("Add Project button clicked"),a.classList.toggle("hidden"),C("#project-form")})),i.addEventListener("submit",(t=>{t.preventDefault(),console.log("Project form submitted");const d=r.value,n=e(d);c.push(n),console.log("Updated projects array:",c),o(c),r.value="",C("#project-form"),a.classList.toggle("hidden")})),u.addEventListener("click",(e=>{e.preventDefault(),console.log("Cancel button clicked"),C("#project-form"),a.classList.toggle("hidden")})),p.addEventListener("click",(()=>{console.log("Add Todo button clicked"),m.style.display="block",L.style.display="block"})),y.addEventListener("click",(()=>{console.log("Todo modal close button clicked"),m.style.display="none",L.style.display="none"})),window.addEventListener("click",(e=>{e.target===m&&(console.log("Clicked outside todo modal content"),m.style.display="none",L.style.display="none")})),v.addEventListener("submit",(e=>{e.preventDefault(),console.log("Todo form submitted");const o=h.value,n=f.value,c=g.value,l=E.value,s=t(o,n,c,l);S.todos.push(s),console.log("Updated todos array:",S.todos),d(S.todos,S),h.value="",f.value="",g.value="",E.value="high",m.style.display="none",L.style.display="none"})),document.querySelector("#todo-cancel").addEventListener("click",(e=>{e.preventDefault(),console.log("Todo form canceled"),m.style.display="none",L.style.display="none"})),o(c),d(n.todos,n)})();