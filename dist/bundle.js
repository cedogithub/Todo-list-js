(()=>{"use strict";const t=t=>({name:t,todos:[]}),e=(t,e,o,d)=>({title:t,description:e,dueDate:o,priority:d}),o=t=>{const e=document.querySelector(".project-list");e.innerHTML="",t.forEach(((t,o)=>{const d=document.createElement("li");d.textContent=t.name,d.dataset.projectIndex=o,e.appendChild(d)}))},d=(t,e)=>{const o=document.querySelector(".todo-list");o.innerHTML="";const n=document.createElement("div");n.classList.add("project-title"),n.textContent=e.name,o.appendChild(n),t.forEach((n=>{const c=document.createElement("li"),r=document.createElement("div");r.textContent=`Title: ${n.title}, Description: ${n.description}, Due Date: ${n.dueDate}, Priority: ${n.priority}`,c.appendChild(r);const l=document.createElement("button");l.textContent="Delete",l.classList.add("delete-button"),l.addEventListener("click",(()=>s(n))),c.appendChild(l);const i=document.createElement("button");i.textContent="Edit",i.classList.add("edit-button"),i.addEventListener("click",(()=>a(n))),c.appendChild(i),o.appendChild(c);const s=o=>{console.log(`Deleting todo: ${o.title}`);const n=t.filter((t=>t!==o));d(n,e)},a=t=>{console.log(`Editing todo: ${t.title}`)}}))},n=t("Default Project"),c=[n],r=e("Finish Project","Finish the todo list project","2023-07-31","High"),l=e("Study JavaScript","Study for at least 1 hour","2023-07-25","Medium");n.todos.push(r,l);const i=document.querySelector("#add-project-btn"),s=document.querySelector("#project-form"),a=document.querySelector("#project-title"),u=document.querySelector("#add-todo-btn"),m=document.querySelector("#todo-form"),p=document.querySelector("#todo-title"),v=document.querySelector("#todo-description"),y=document.querySelector("#todo-dueDate"),h=document.querySelector("#todo-priority");let g=n;const E=t=>{document.querySelector(t).classList.toggle("hidden")};i.addEventListener("click",(()=>{console.log("Add Project button clicked"),E("#project-form")})),u.addEventListener("click",(()=>{console.log("Add Todo button clicked"),E("#todo-form")})),document.querySelector(".project-list").addEventListener("click",(t=>{if("LI"===t.target.tagName){const e=t.target.dataset.projectIndex;g=c[e],d(g.todos,g)}})),s.addEventListener("submit",(e=>{e.preventDefault(),console.log("Project form submitted");const d=a.value,n=t(d);c.push(n),console.log("Updated projects array:",c),o(c),a.value=""})),m.addEventListener("submit",(t=>{t.preventDefault(),console.log("Todo form submitted");const o=p.value,n=v.value,c=y.value,r=h.value,l=e(o,n,c,r);g.todos.push(l),console.log("Updated todos array:",g.todos),d(g.todos,g),p.value="",v.value="",y.value="",h.value="high"})),o(c),d(n.todos,n)})();